# 0008 大学生定位与课程表/记忆系统优化方向

- 日期: 2026-01-05
- 状态: active
- 负责人: AI
- 变更类型: decision
- 影响范围: readme.md, docs/ai_knowledge_base/index.md
- 关联: 需求澄清（大学生场景/课程表）
- 约束与风险: 课程表结构未落地前，提醒与计划仍以通用文档为主
- 环境/版本: N/A

## 0. 问题/目标 (Context)
项目面向大学生（大一新生优先），课程表具有“周次/节次/单双周/临时调课”的复杂结构，需明确方向并适配现有记忆系统。

## 1. 方案对比 (Options)
### 方案 A
- 优点: 实现简单，仅依赖 `plan.md` 与自然语言
- 缺点: 难以表达周次/单双周/调课等结构，提醒冲突难处理
- 成本: 低

### 方案 B
- 优点: 结构化课表可支持冲突检测、按周生成、精准提醒
- 缺点: 需要新增数据结构与解析/导入逻辑
- 成本: 中

## 2. 决策 (Decision)
选择方案 B。面向大学生的核心场景是课程表，需结构化表示并与提醒系统联动。

## 3. 设计与实现 (Design & Implementation)
- 计划新增结构化课表文件（如 `timetable.json`），支持学期、周次范围、单双周、节次、地点等字段。
- 课表应能生成“本周视图”，减少上下文噪声，并与提醒事件对齐。
- 记忆系统现状：文件记忆在 `data/memory_bank/<user_id>/`，短期记忆/提醒/事件在 SQLite。

## 4. 实验与效果 (Experiment & Result)
N/A（方向决策，待后续实现验证）。

## 5. 测试与优化 (Tests & Optimization)
- [ ] 单元测试: N/A
- [ ] 集成测试: N/A
- [ ] 手动验证: N/A
- 结果/备注: 未执行测试。

## 6. 结论与收获 (Lessons)
课程表是大学生的核心结构化信息，若不落地成结构化数据，将限制提醒质量与冲突处理能力。

## 7. 后续行动 (Next)
- 设计 `timetable.json` 的字段规范与导入方式。
- 补充“本周课表视图”的生成与上下文注入策略。
